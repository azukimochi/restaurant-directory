{"ast":null,"code":"import _toConsumableArray from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/karenkua/Desktop/OpenTable_KarenKua/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/karenkua/Desktop/OpenTable_KarenKua/src/App.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"./components/Card/Card.js\";\nimport CardContainer from \"./components/Card/CardContainer.js\";\nimport CitySearchBar from \"./components/SearchBar/CitySearchBar.js\";\nimport NameSearchBar from \"./components/SearchBar/NameSearchBar.js\";\nimport \"./App.css\";\nvar URL = \"http://opentable.herokuapp.com/api/restaurants?city=\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      restaurants: null,\n      masterData: null,\n      city: \"\",\n      searchName: \"\"\n    };\n\n    _this.componentDidMount = function () {\n      var prevData = JSON.parse(localStorage.getItem(\"restaurantData\"));\n\n      if (prevData) {\n        _this.setState({\n          masterData: prevData,\n          restaurants: prevData\n        });\n      }\n    };\n\n    _this.searchByCity = function (event) {\n      event.preventDefault();\n\n      _this.getData(_this.state.city.trim().toLowerCase());\n\n      _this.setState({\n        city: \"\"\n      });\n    };\n\n    _this.getData = function (city) {\n      axios.get(URL + city).then(function (res) {\n        _this.setState({\n          restaurants: res.data.restaurants,\n          masterData: res.data.restaurants\n        }, function () {\n          return _this.saveToMemory();\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.saveToMemory = function () {\n      localStorage.setItem(\"restaurantData\", JSON.stringify(_this.state.masterData));\n    };\n\n    _this.handleCityChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleExtend = function (index, event) {\n      var copyOfData = _toConsumableArray(_this.state.restaurants);\n\n      copyOfData[index].isExtended = true;\n\n      _this.setState({\n        restaurants: copyOfData\n      });\n    };\n\n    _this.handleClosure = function (index, event) {\n      var copyOfData = _toConsumableArray(_this.state.restaurants);\n\n      copyOfData[index].isExtended = false;\n\n      _this.setState({\n        restaurants: copyOfData\n      });\n    };\n\n    _this.updateListForName = function () {\n      var updatedDataArr = [];\n\n      var copyOfData = _toConsumableArray(_this.state.masterData);\n\n      var substring = _this.state.searchName.toLowerCase();\n\n      copyOfData.forEach(function (restaurant) {\n        var name = restaurant.name.toLowerCase();\n\n        if (name.includes(substring)) {\n          updatedDataArr.push(restaurant);\n        }\n      });\n\n      _this.setState({\n        restaurants: updatedDataArr\n      });\n    };\n\n    _this.handleNameChange = function (event) {\n      var _event$target2 = event.target,\n          name = _event$target2.name,\n          value = _event$target2.value;\n\n      _this.setState(_defineProperty({}, name, value), function () {\n        return _this.updateListForName();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        id: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(CardContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"cityForm\",\n        onSubmit: this.searchByCity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(CitySearchBar, {\n        value: this.state.city,\n        onChange: this.handleCityChange,\n        placeholder: \"Enter a city\",\n        name: \"city\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.searchByCity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Submit\")), React.createElement(NameSearchBar, {\n        value: this.state.searchName,\n        onChange: this.handleNameChange,\n        placeholder: \"Search your results by restaurant name\",\n        name: \"searchName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), this.state.restaurants !== null ? React.createElement(\"div\", {\n        id: \"cards-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.restaurants.map(function (restaurant, index) {\n        return React.createElement(Card, {\n          key: restaurant.id,\n          index: index,\n          price: restaurant.price,\n          address: restaurant.address,\n          city: restaurant.city,\n          pic: restaurant.image_url,\n          name: restaurant.name,\n          postalCode: restaurant.postal_code,\n          reserveURL: restaurant.reserve_url,\n          isExtended: restaurant.isExtended,\n          handleExtend: _this2.handleExtend,\n          handleClosure: _this2.handleClosure,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        });\n      })) : React.createElement(\"div\", {\n        id: \"noDataMsg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"noDataP\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Hungry?\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Why not search for restaurants in your area?\")))), React.createElement(\"div\", {\n        className: \"col-6 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/karenkua/Desktop/OpenTable_KarenKua/src/App.js"],"names":["React","Component","axios","Card","CardContainer","CitySearchBar","NameSearchBar","URL","App","state","restaurants","masterData","city","searchName","componentDidMount","prevData","JSON","parse","localStorage","getItem","setState","searchByCity","event","preventDefault","getData","trim","toLowerCase","get","then","res","data","saveToMemory","catch","err","console","log","setItem","stringify","handleCityChange","target","name","value","handleExtend","index","copyOfData","isExtended","handleClosure","updateListForName","updatedDataArr","substring","forEach","restaurant","includes","push","handleNameChange","map","id","price","address","image_url","postal_code","reserve_url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport axios from \"axios\"\nimport Card from \"./components/Card/Card.js\"\nimport CardContainer from \"./components/Card/CardContainer.js\"\nimport CitySearchBar from \"./components/SearchBar/CitySearchBar.js\"\nimport NameSearchBar from \"./components/SearchBar/NameSearchBar.js\"\nimport \"./App.css\"\n\nconst URL = \"http://opentable.herokuapp.com/api/restaurants?city=\"\n\nclass App extends Component {\n  state = {\n    restaurants: null,\n    masterData: null,\n    city: \"\",\n    searchName: \"\"\n  }\n\n  componentDidMount = () => {\n    let prevData = JSON.parse(localStorage.getItem(\"restaurantData\"))\n    if (prevData) {\n      this.setState({\n      masterData: prevData,\n      restaurants: prevData\n    })\n  }\n  }\n  \n  searchByCity = event => {\n    event.preventDefault()\n    this.getData(this.state.city.trim().toLowerCase())\n    this.setState({city: \"\"})\n  }\n  \n  getData = city => {\n    axios.get(URL + city)\n      .then(res => {\n        this.setState({\n          restaurants: res.data.restaurants,\n          masterData: res.data.restaurants\n        },\n        () => this.saveToMemory()\n      )})\n      .catch(err => console.log(err));\n  }\n\n  saveToMemory = () => {\n    localStorage.setItem(\"restaurantData\", JSON.stringify(this.state.masterData))\n  }\n  \n  handleCityChange = event => {\n    const { name, value } = event.target\n    this.setState({[name]: value})\n  }\n  \n  handleExtend = (index, event) => {\n    let copyOfData = [...this.state.restaurants]\n    copyOfData[index].isExtended = true\n    this.setState({ restaurants: copyOfData })\n  }\n  \n  handleClosure = (index, event) => {\n    let copyOfData = [...this.state.restaurants]\n    copyOfData[index].isExtended = false\n    this.setState({ restaurants: copyOfData })\n  }\n  \n  updateListForName = () => {\n    let updatedDataArr = [];\n    let copyOfData = [...this.state.masterData]\n    let substring = this.state.searchName.toLowerCase()\n    copyOfData.forEach(restaurant => {\n      let name = restaurant.name.toLowerCase();\n      if (name.includes(substring)) {\n        updatedDataArr.push(restaurant)\n      }\n    })\n    this.setState({ restaurants: updatedDataArr })\n  }\n  \n  handleNameChange = event => {\n    const { name, value } = event.target;\n    \n    this.setState({\n      [name]: value\n    },\n    () => this.updateListForName());\n  }\n\n  render() {\n    return (\n      <div id=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"col-6 col-md-3\"></div>\n            <div className=\"col-sm-6\">\n              <CardContainer>\n                <form id=\"cityForm\" onSubmit={this.searchByCity}>\n                <CitySearchBar\n                  value={this.state.city}\n                  onChange={this.handleCityChange}\n                  placeholder=\"Enter a city\"\n                  name=\"city\"\n                />\n                   <button className=\"btn btn-primary\" onClick={this.searchByCity}>\n                    Submit\n                  </button>\n                  </form>\n                <NameSearchBar\n                  value={this.state.searchName}\n                  onChange={this.handleNameChange}\n                  placeholder=\"Search your results by restaurant name\"\n                  name=\"searchName\"\n                />\n                {this.state.restaurants !== null ? (\n                  <div id=\"cards-container\">\n                    {this.state.restaurants.map((restaurant, index) => (\n                      <Card\n                        key={restaurant.id}\n                        index={index}\n                        price={restaurant.price}\n                        address={restaurant.address}\n                        city={restaurant.city}\n                        pic={restaurant.image_url}\n                        name={restaurant.name}\n                        postalCode={restaurant.postal_code}\n                        reserveURL={restaurant.reserve_url}\n                        isExtended={restaurant.isExtended}\n                        handleExtend={this.handleExtend}\n                        handleClosure={this.handleClosure}\n                      />\n                    ))}\n                  </div>\n                ) : (\n                    <div id=\"noDataMsg\">\n                    <p id=\"noDataP\">Hungry?</p>\n                    <p>Why not search for restaurants in your area?</p>\n                    </div>\n                  )}\n              </CardContainer>\n            </div>\n            <div className=\"col-6 col-md-3\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}